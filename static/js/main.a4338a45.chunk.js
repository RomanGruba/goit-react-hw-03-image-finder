(window.webpackJsonphomework3=window.webpackJsonphomework3||[]).push([[0],{10:function(e,t,a){e.exports={gallery:"Gallery_gallery__1vNcd",item:"Gallery_item__2Bv9X"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__cv1d8",modal:"Modal_modal__2RnQ2"}},24:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3fdH_"}},27:function(e,t,a){e.exports=a(73)},3:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__2rfTQ",stats:"PhotoCard_stats__1jip8",statsItem:"PhotoCard_statsItem__1sBj8",fullscreenButton:"PhotoCard_fullscreenButton__24Z6t",imageContainer:"PhotoCard_imageContainer__3zTih"}},32:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),s=a.n(r),c=(a(32),a(12)),l=a(4),i=a(5),m=a(7),u=a(6),d=a(8),h=a(9),p=a.n(h),f=a(24),g=a.n(f),v=function(e){var t=e.value,a=e.onSubmit,n=e.onChange;return o.a.createElement("form",{className:g.a.searchForm,onSubmit:a},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:""===t?"":t,onChange:n}))},y=a(25),_=a.n(y),b=function(e,t){return _.a.get("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("13247871-683997deec1332bee3feb82ad"))},E=a(10),w=a.n(E),O=a(3),C=a.n(O),M=a(11),j=a.n(M),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.closeOnEsc=function(e){"Escape"===e.code&&a.props.closeModalEsc()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeOnEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeOnEsc)}},{key:"render",value:function(){return o.a.createElement("div",{className:j.a.overlay,onClick:this.props.closeModal},o.a.createElement("div",{className:j.a.modal},o.a.createElement("img",{src:this.props.item.largeImageURL,alt:""})))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1},a.handleClick=function(e){a.setState({showModal:!a.state.showModal})},a.closeModal=function(e){!0===a.state.showModal&&"IMG"!==e.target.nodeName&&a.setState({showModal:!1})},a.closeModalEsc=function(e){!0===a.state.showModal&&a.setState({showModal:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.showModal,t=this.props.item,a=this.props.item,n=a.webformatURL,r=a.likes,s=a.views,c=a.comments,l=a.downloads;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:C.a.photoCard},o.a.createElement("div",{className:C.a.imageContainer},o.a.createElement("img",{src:n,alt:""}),o.a.createElement("button",{type:"button",className:C.a.fullscreenButton,onClick:this.handleClick},o.a.createElement("i",{className:"material-icons"},"zoom_out_map"))),o.a.createElement("div",{className:C.a.stats},o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),r),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),s),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),c),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),l))),e?o.a.createElement(N,{item:t,closeModal:this.closeModal,closeModalEsc:this.closeModalEsc}):null)}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(e.items.length!==this.props.items.length){var a=window.innerHeight-70;window.scrollBy({top:a,behavior:"smooth"})}}},{key:"render",value:function(){var e=this.props.items;return e.length>0?o.a.createElement("ul",{className:w.a.gallery},e.map(function(e){return o.a.createElement("li",{className:w.a.item,key:e.id},o.a.createElement(k,{item:e}))})):null}}]),t}(n.Component),A=(a(49),a(26)),I=a.n(A),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={imagesArr:[],query:"",page:1,isLoading:!1},a.handleOnChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e,t){b(e,t).then(function(e){return a.setState(function(t){return{imagesArr:[].concat(Object(c.a)(t.imagesArr),Object(c.a)(e.data.hits))}})})},a.handleNewQuerySubmit=function(e){e.preventDefault(),a.setState({isLoading:!0}),b(a.state.query,1).then(function(e){a.setState({imagesArr:e.data.hits,page:1,isLoading:!1})})},a.loadMoreItems=function(e){a.setState(function(e){return{page:e.page+1}},function(){return a.handleSubmit(a.state.query,a.state.page)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.imagesArr,a=e.query,n=e.isLoading;return o.a.createElement("div",{className:p.a.app,ref:this.ulRef},o.a.createElement(v,{value:a,onSubmit:this.handleNewQuerySubmit,onChange:this.handleOnChange}),n?o.a.createElement(I.a,{style:{margin:"0 auto",fill:"green"},type:"Circles",color:"#somecolor",height:80,width:80}):o.a.createElement(S,{items:t}),t.length>11?o.a.createElement("button",{type:"button",className:p.a.loadMore,onClick:this.loadMoreItems},"Load more"):null)}}]),t}(n.Component);s.a.render(o.a.createElement(L,null),document.getElementById("root"))},9:function(e,t,a){e.exports={app:"App_app__3U6w2",loadMore:"App_loadMore__2g4nO"}}},[[27,1,2]]]);
//# sourceMappingURL=main.a4338a45.chunk.js.map