{"version":3,"sources":["components/Gallery/Gallery.module.css","components/Modal/Modal.module.css","components/SearchForm/SearchForm.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.js","services/API.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/App.js","index.js","components/App.module.css"],"names":["module","exports","SearchForm","value","onSubmit","onChange","className","styles","searchForm","type","autoComplete","placeholder","fetchImages","query","page","axios","get","Modal","state","closeOnEsc","e","code","props","closeModalEsc","window","addEventListener","this","removeEventListener","overlay","onClick","closeModal","modal","src","item","largeImageURL","alt","Component","PhotoCard","showModal","handleClick","setState","target","nodeName","webformatURL","likes","views","comments","downloads","photoCard","imageContainer","fullscreenButton","stats","statsItem","Gallery","prevProps","prevState","items","length","top","innerHeight","scrollBy","behavior","gallery","map","key","id","App","imagesArr","isLoading","handleOnChange","handleSubmit","API","then","res","data","hits","handleNewQuerySubmit","preventDefault","loadMoreItems","app","ref","ulRef","style","margin","fill","color","height","width","loadMore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4338a45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1vNcd\",\"item\":\"Gallery_item__2Bv9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__cv1d8\",\"modal\":\"Modal_modal__2RnQ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3fdH_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2rfTQ\",\"stats\":\"PhotoCard_stats__1jip8\",\"statsItem\":\"PhotoCard_statsItem__1sBj8\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__24Z6t\",\"imageContainer\":\"PhotoCard_imageContainer__3zTih\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ value, onSubmit, onChange }) => {\n  return (\n    <form className={styles.searchForm} onSubmit={onSubmit}>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search images...\"\n        value={value === '' ? '' : value}\n        onChange={onChange}\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  value: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import axios from 'axios';\n\nconst baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\nconst key = '13247871-683997deec1332bee3feb82ad';\n\nexport const fetchImages = (query: 'spring', page: 1) =>\n  axios.get(`${baseURL}${query}&page=${page}&per_page=12&key=${key}`);\n\nexport const dummy = () => null;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeOnEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeOnEsc);\n  }\n\n  closeOnEsc = e => {\n    if (e.code === 'Escape') {\n      this.props.closeModalEsc();\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.overlay} onClick={this.props.closeModal}>\n        <div className={styles.modal}>\n          <img src={this.props.item.largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\nimport Modal from '../Modal/Modal';\n\nexport default class PhotoCard extends Component {\n  state = {\n    showModal: false,\n  };\n\n  handleClick = e => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  closeModal = e => {\n    if (this.state.showModal === true && e.target.nodeName !== 'IMG') {\n      this.setState({ showModal: false });\n    }\n  };\n\n  closeModalEsc = e => {\n    if (this.state.showModal === true) {\n      this.setState({ showModal: false });\n    }\n  };\n\n  render() {\n    const { showModal } = this.state;\n    const { item } = this.props;\n    const { webformatURL, likes, views, comments, downloads } = this.props.item;\n    return (\n      <>\n        <div className={styles.photoCard}>\n          <div className={styles.imageContainer}>\n            <img src={webformatURL} alt=\"\" />\n            <button\n              type=\"button\"\n              className={styles.fullscreenButton}\n              onClick={this.handleClick}\n            >\n              <i className=\"material-icons\">zoom_out_map</i>\n            </button>\n          </div>\n\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n        </div>\n        {showModal ? (\n          <Modal\n            item={item}\n            closeModal={this.closeModal}\n            closeModalEsc={this.closeModalEsc}\n          />\n        ) : null}\n      </>\n    );\n  }\n}\n\nPhotoCard.propTypes = {\n  item: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n  }).isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nexport default class Gallery extends Component {\n  state = {};\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.items.length !== this.props.items.length) {\n      const top = window.innerHeight - 70;\n      window.scrollBy({\n        top,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    const { items } = this.props;\n\n    return items.length > 0 ? (\n      <ul className={styles.gallery}>\n        {items.map(item => (\n          <li className={styles.item} key={item.id}>\n            <PhotoCard item={item} />\n          </li>\n        ))}\n      </ul>\n    ) : null;\n  }\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({ id: PropTypes.number.isRequired }).isRequired,\n  ).isRequired,\n};\n\n// const Gallery = ({ items }) => {\n//   return (\n//     <ul className={styles.gallery}>\n//       {items.map(item => (\n//         <li className={styles.item} key={item.id}>\n//           <PhotoCard item={item} />\n//         </li>\n//       ))}\n//     </ul>\n//   );\n// };\n\n// export default Gallery;\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport SearchForm from './SearchForm/SearchForm';\nimport * as API from '../services/API';\nimport Gallery from './Gallery/Gallery';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport default class App extends Component {\n  state = {\n    imagesArr: [],\n    query: '',\n    page: 1,\n    isLoading: false,\n  };\n\n  handleOnChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = (query, page) => {\n    API.fetchImages(query, page).then(res =>\n      this.setState(prevState => ({\n        imagesArr: [...prevState.imagesArr, ...res.data.hits],\n      })),\n    );\n  };\n\n  handleNewQuerySubmit = e => {\n    e.preventDefault();\n    this.setState({ isLoading: true });\n    API.fetchImages(this.state.query, 1).then(res => {\n      this.setState({ imagesArr: res.data.hits, page: 1, isLoading: false });\n    });\n  };\n\n  loadMoreItems = e => {\n    this.setState(\n      prevState => ({\n        page: prevState.page + 1,\n      }),\n      () => this.handleSubmit(this.state.query, this.state.page),\n    );\n  };\n\n  render() {\n    const { imagesArr, query, isLoading } = this.state;\n    return (\n      <div className={styles.app} ref={this.ulRef}>\n        <SearchForm\n          value={query}\n          onSubmit={this.handleNewQuerySubmit}\n          onChange={this.handleOnChange}\n        />\n        {isLoading ? (\n          <Loader\n            style={{ margin: '0 auto', fill: 'green' }}\n            type=\"Circles\"\n            color=\"#somecolor\"\n            height={80}\n            width={80}\n          />\n        ) : (\n          <Gallery items={imagesArr} />\n        )}\n\n        {imagesArr.length > 11 ? (\n          <button\n            type=\"button\"\n            className={styles.loadMore}\n            onClick={this.loadMoreItems}\n          >\n            Load more\n          </button>\n        ) : null}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3U6w2\",\"loadMore\":\"App_loadMore__2g4nO\"};"],"sourceRoot":""}